@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  *, *::before, *::after { @apply box-border; }
  html { @apply antialiased; }
  body { @apply m-0 font-sans bg-slate-50 text-slate-900; }
}

@layer components {
  .section { @apply mt-5 rounded-xl bg-white p-6 ring-1 ring-slate-200 shadow-sm; }
  .sectionTitle { @apply mb-3 text-2xl font-extrabold text-slate-900; }
  .title { @apply text-3xl font-extrabold text-slate-900; }
  .row { @apply flex flex-wrap items-center gap-3; }
  .spacer { @apply grow; }

  .btn { @apply inline-flex items-center justify-center rounded-lg bg-blue-700 px-4 py-2 font-bold text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-400; }
  .btn.secondary { @apply bg-white text-slate-800 ring-1 ring-slate-300 hover:bg-slate-50; }
  .btn.ghost { @apply bg-slate-900 text-white; }

  .input, .select { @apply w-full rounded-lg bg-white px-3 py-2 ring-1 ring-slate-300 outline-none focus:ring-2 focus:ring-blue-400; }
  .grid2 { @apply grid grid-cols-1 gap-3 md:grid-cols-2; }
  .grid3 { @apply grid grid-cols-1 gap-3 md:grid-cols-3; }
  .card { @apply rounded-xl bg-white p-4 ring-1 ring-slate-200 shadow-sm; }

  .table { @apply w-full border-separate [border-spacing:0_8px]; }
  .trow { @apply rounded-lg bg-white ring-1 ring-slate-200; }
  .tcell { @apply px-3 py-2; }

  .table.excel { @apply w-full border-collapse; }
  .table.excel thead th { @apply bg-slate-100 font-bold text-slate-800 border border-slate-300 text-xs; -webkit-print-color-adjust: exact; print-color-adjust: exact; }
  .table.excel tbody td { @apply border border-slate-300 text-xs; }

  .info-table { @apply w-full border-collapse; }
  .info-table td { @apply border border-slate-300 text-xs py-1 px-2; }

  .photos-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 8px; }
  .photo-item { width: 100%; border-radius: 6px; object-fit: cover; border: 1px solid #ddd; page-break-inside: avoid; }
  .only-print { display: none; }
  .no-border { border: none !important; }
  .print-portada {
    background: white;
    page-break-after: always; /* Hace que lo siguiente empiece en otra página */
  }
}
@media print {
  @page:first {
    @bottom-right {
      content: "";
    }
    counter-set: page 1;
  }
  @page {
    size: A4 portrait;
    margin: 10mm;
    @bottom-right {
      content: "Página " counter(page) " / " counter(pages);
      font-size: 6pt;
      color: #444;
    }
  }
  .print-portada {
    display: block;
  }
  .print-header {
    position: fixed;
    top: 0;
    right: 0;
    z-index: 9999;
    pointer-events: none;
    padding-top: 0;
  }
  .print-header img {
    width: 100px;
    height: auto;
  }
  .page-break-before {
    page-break-before: always;
  }
  .no-print { display: none !important; }
  .only-print { display: block !important; }

  html, body {
    margin: 0 !important;
    padding: 0 !important;
    font-size: 10pt !important;
    color: #000 !important;
    background: #fff !important;
  }

  .print-root {
    width: 210mm;
    min-height: 297mm;
    margin: 0 auto;
    page-break-after: always;
  }
  .title {
    font-size: 18pt !important;
    margin-bottom: 10mm !important;
  }

  /* Primera sección más abajo para dejar espacio al logo */
  .print-root > .section:first-of-type {
    margin-top: 25mm;
  }

  nav[role="navigation"], .title, .sectionTitle { display: none !important; }

  /* Layout simplificado */
  .row { display: block !important; }
  .grid2, .grid3 { display: block !important; }

  /* Tablas para impresión */
  .table.excel {
    border-collapse: collapse !important;
    margin-top: 2mm !important;
    page-break-inside: auto;
  }
  .table.excel thead {
    display: table-header-group; /* repetición de encabezado en cada página */
  }
  .table.excel tbody {
    display: table-row-group; /* comportamiento normal del cuerpo */
  }
  
  .trow {
    page-break-inside: avoid; /* evita cortar la fila */
    break-inside: avoid;
    background: #fff !important;
    box-shadow: none !important;
    border: 1px solid #ccc !important;
  }
  .trow2 {
    background: #ffffff !important;
    box-shadow: transparent !important;
    border: transparent !important;
  }
  .tcell {
    font-size: 8pt !important;
    padding: 0.8mm 1.2mm !important;
  }
  .tcell2 {
    font-size: 25px !important;
    padding: 1mm 1.5mm !important;
  }
  .tcell3 {
    font-size: 16px !important;
    padding: 2mm 2.5mm !important;
  }
  .table.excel tbody .trow {
    background: #fff !important;
  }

  .table.excel thead .trow2 {
    background: inherit !important; /* conserva tu gradiente */
  }
  .section {
    box-shadow: none !important;
    break-inside: avoid;
    page-break-inside: avoid;
    margin-bottom: 10mm;
  }
  .no-border {
    border: none !important;
  }
  .photo-item {
    break-inside: avoid;
    page-break-inside: avoid;
  }
}
